# LCARS 自动诊断报告 (Auto-Diagnostic Report)

> [!IMPORTANT]
> 本文件由 ADS (Auto-Diagnostic Routine) 自动维护。请参考诊断结论进行修复。

## 活跃故障 (Active Faults)
### ERR-0xE59E | Dispatcher.AgenticLoop
- **发生时间**: 2026-01-28 15:07:34
- **错误信息**: `'ShipSystems' object has no attribute 'auxiliary_state'`
- **原始指令**: `计算机，发现一个未接触的原始文明，准备发射探测器`
- **AI 诊断**: The `ShipSystems` object is missing the `auxiliary_state` attribute, likely due to a schema mismatch or an uninitialized state.
- **建议方案**:

```diff
```diff
--- a/app/tools.py
+++ b/app/tools.py
@@ -1688,6 +1688,9 @@
     ss = await get_ship_systems(session_id)
     if ss is None:
         raise ValueError("Ship systems not initialized for session.")
+    if not hasattr(ss, 'auxiliary_state'):
+        ss.auxiliary_state = {}
+
     existing_keys = list(ss.auxiliary_state.keys())
     new_keys = data.keys()
 
```
```

---


*Generated by LCARS Engineering Subroutine (Version 2.0)*
